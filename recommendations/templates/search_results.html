<!DOCTYPE html>
<html>
<head>
    <title>Search Book</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="container">
    <h1>Find Book :</h1>
    <div class="row">
        <div class="col-6 g-3">
            <form action="" method='post'> {% csrf_token %}
                <input type="text" style="width: 50%" name="name" id="name" placeholder="Enter book name">
                <div>
                <button type="submit" class="btn btn-primary my-2">Search</button>
                </div>
            </form>
        </div>
    </div>  
    
    {% if query == 'default' %} 
    {% elif query %} 
        <br><h5>Search Results for "{{ query }}"</h5>
        {% if results %}
            <ul>
                {% for item in results %}
                    <li>
                        <h2>{{ item.volumeInfo.title }}</h2>
                        <p>{{ item.volumeInfo.authors|join:", " }}</p>
                        <p>{{ item.volumeInfo.description }}</p>
                        <img src="{{ item.volumeInfo.imageLinks.thumbnail }}" alt="{{ item.volumeInfo.title }}">
                    </li>
                {% endfor %}
            </ul>
        {% else %}
        <p>No results found.</p>
        {% endif %}
    {% else %}
        <br><h5>Enter Book Name</h5>
    {% endif %}
    </div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</body>
</html>
